
<div id="error_explanation">
  <%= flash[:added_to_cart] %>
</div>


<div class="container">
  <div class="card">
    <div class="container-fluid">
      <div class="wrapper row">
        <div class="preview col-md-6">

          <div class="preview-pic tab-content">
            <div class="tab-pane active" id="pic-1"><%= image_tag ("mobile_demo.jpg") %></div>
            <div class="tab-pane" id="pic-2"><%= image_tag ("mobile_demo.jpg") %></div>
            <div class="tab-pane" id="pic-3"><%= image_tag ("mobile_demo.jpg") %></div>
          </div>
          <ul class="preview-thumbnail nav nav-tabs">
            <li class="active"><a data-target="#pic-1" data-toggle="tab"><%= image_tag ("mobile_demo.jpg") %></a></li>
            <li><a data-target="#pic-2" data-toggle="tab"><%= image_tag ("mobile_demo.jpg") %></a></li>
            <li><a data-target="#pic-3" data-toggle="tab"><%= image_tag ("mobile_demo.jpg") %></a></li>
          </ul>

          <%# @product_variant.images.each do |pic| %>
            <%#= image_tag pic.url%>
          <%# end %>

        </div>


        <div class="details col-md-6">
          <h3 class="product-title"><%= @product_variant.product.title %></h3>
          <div class="rating">
            <div class="stars">
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star"></span>
              <span class="fa fa-star"></span>
            </div>
            <span class="review-no">41 reviews</span>
          </div>
          <p class="product-description"><%= @product_variant.details %></p>
          <h4 class="price">current price: <span> <%= number_to_currency @product_variant.price %></span></h4>
          <h5></h5>
          <h5></h5>
          <h5></h5>
          <h5></h5>
          <h5></h5>
          <h5></h5>

          <div class="product-quantity">
            <h5> Available: <%= pluralize(@product_variant.in_stock, 'item') %> </h5>


            <%= form_for(@ordered_item, url: ordered_items_path(@product_variant), local: true, method: :post) do |f| %>
              <%= f.hidden_field :product_variant_id, value: @product_variant.id %>
              <%= f.hidden_field :price, value: @product_variant.price %>
              <%= f.hidden_field :purchase_price, value: @product_variant.purchase_price %>
              <h5>
                Quantity:
                <%= f.number_field :quantity, value: 1, min: 1, max: @product_variant.in_stock, style: 'width: 50%;' %>
              </h5>
              <%= f.submit "Add To Cart", class: "btn btn-primary" %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <br>

  <% if @product_variant.product.product_variants.count > 1 %>

  <div>
    <div class="col-md-12">
      <table class="table table-bordered table-striped table-hover " style="background-color: #c9c8c8;">
        <tr>
          <th colspan="4" style="text-align: center " >Available Variants</th>
        </tr>
        <tr>
          <th style="text-align: center ">Image</th>
          <th style="text-align: center ">Price</th>
          <th style="text-align: center ">Details</th>
        </tr>
        <% @product_variant.product.product_variants.each do |variant| %>
          <% if variant.id != @product_variant.id %>
            <tr>
              <td style="width: 150px; align-items: center">
                <%= link_to product_product_variant_path(variant.product_id, variant) do%>
                  <div style="width: 100px; height: 100px;">
                    <%= image_tag ("mobile_demo.jpg"), class: "pic-1" %>
                  </div>
                <% end %>
              </td>
              <td style="width: 200px;"><%= number_to_currency variant.price %></td>
              <td><%= variant.details %></td>
            </tr>
          <% end %>
        <% end %>
      </table>
    </div>
  </div>
  <% end %>

</div>







