<div class="content">
  <div class="col-xl-12 col-xxl-12 col-lg-12 col-md-12" >
    <div class="card">
      <h3 align="center">Add Product</h3>
      <hr><br>
      <%= form_for (@product), url: admin_products_path do |form| %>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label class="col-form-label-lg">Category: </label>
            <%= form.collection_select :category_id, Category.all, :id, :title, { prompt: "Choose a category" }, id: "category_select" %>
          </div>
          <div class="form-group col-md-6">
            <label class="col-form-label-lg">Subcategory: </label>
            <span id="subcategories_select">
            <%= form.collection_select :sub_category_id, {}, :id, :title, { include_blank: "Choose a subcategory" }, {id: 'sub_category-select', disabled: true}  %>
          </span>
          </div>
        </div>


        <div class="form-row">
          <div class="form-group col-md-12">
            <%= form.label :Name, class: "col-form-label-lg" %>
            <%= form.text_field :title, class: 'form-control'%>
          </div>
        </div>


        <div class="nested-attributes-div">
          <%= form.fields_for :product_variants do |variant|  %>
            <%= render 'product_variant_fields', f: variant %>
          <% end %>
          <div class="links">
            <%= link_to_add_association "Add Variant", form , :product_variants %>
          </div>
        </div>

        <%= form.submit "Add Product", class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>
</div>



